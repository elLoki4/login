"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[667],{2667:(G,u,i)=>{i.r(u),i.d(u,{InicioModule:()=>k});var s=i(9535),d=i(3808),g=i(7791),m=i(9123),c=i(546),h=i(6661),t=i(1076),p=i(7627),C=i(7092),v=i(5825),f=i(5120),Z=i(3504),I=i(6096),x=i(4715),T=i(4345),y=i(4951),_=i(8642),b=i(3804);function P(a,o){1&a&&(t.TgZ(0,"th",23),t._uU(1,"fecha"),t.qZA())}function U(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const n=o.$implicit;t.xp6(1),t.Oqu(n.fecha)}}function A(a,o){1&a&&(t.TgZ(0,"th",23),t._uU(1,"stock"),t.qZA())}function D(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const n=o.$implicit;t.xp6(1),t.Oqu(n.stock)}}function S(a,o){1&a&&(t.TgZ(0,"th",25),t._uU(1,"ventas"),t.qZA())}function M(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const n=o.$implicit;t.xp6(1),t.Oqu(n.ventas)}}function Y(a,o){1&a&&(t.TgZ(0,"th",25),t._uU(1,"productos"),t.qZA())}function O(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const n=o.$implicit;t.xp6(1),t.Oqu(n.producto)}}function N(a,o){1&a&&t._UZ(0,"th",25)}function z(a,o){if(1&a){const n=t.EpF();t.TgZ(0,"td",26)(1,"a",27),t._UZ(2,"mat-icon",28),t.qZA(),t.TgZ(3,"a",29)(4,"mat-icon",30),t.NdJ("click",function(){const l=t.CHM(n).$implicit,F=t.oxw(2);return t.KtG(F.eliminarProducto(l.id))}),t.qZA()(),t.TgZ(5,"a",31),t._UZ(6,"mat-icon",32),t.qZA()()}}function Q(a,o){1&a&&t._UZ(0,"tr",33)}function w(a,o){1&a&&t._UZ(0,"tr",34)}function B(a,o){if(1&a&&(t.TgZ(0,"div",10)(1,"table",11),t.ynx(2,12),t.YNc(3,P,2,0,"th",13),t.YNc(4,U,2,1,"td",14),t.BQk(),t.ynx(5,15),t.YNc(6,A,2,0,"th",13),t.YNc(7,D,2,1,"td",14),t.BQk(),t.ynx(8,16),t.YNc(9,S,2,0,"th",17),t.YNc(10,M,2,1,"td",14),t.BQk(),t.ynx(11,18),t.YNc(12,Y,2,0,"th",17),t.YNc(13,O,2,1,"td",14),t.BQk(),t.ynx(14,19),t.YNc(15,N,1,0,"th",17),t.YNc(16,z,7,0,"td",20),t.BQk(),t.YNc(17,Q,1,0,"tr",21),t.YNc(18,w,1,0,"tr",22),t.qZA()()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function J(a,o){1&a&&(t.TgZ(0,"h2",35),t._uU(1," no hay usuarios para mostrar "),t.qZA())}const R=function(){return[5,10,25,100]},E=[{path:"",component:(()=>{class a{constructor(n,e,r,l){this.fire=n,this._snackBar=e,this.getUser=r,this.store=l,this.listProduct=[],this.dataSource=new c.by(this.listProduct),this.displayedColumns=["fecha","producto","stock","ventas","Action"],this.title="ng2-charts-demo",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData={labels:[],datasets:[{data:[],label:"Ventas"}]},this.barChartOptions={responsive:!1}}ngOnInit(){this.getUser.getUser().subscribe(n=>{this.listProduct=n,this.dataSource.data=this.listProduct,this.initializeChartData(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}eliminarProducto(n){var e=this;return(0,g.Z)(function*(){console.log(n),yield e.fire.deleteUser(n),e.listProduct=e.listProduct.filter(l=>l.id!==n.id),e.dataSource.data=e.listProduct,e.initializeChartData(),e._snackBar.open("El producto fue eliminado","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})})()}initializeChartData(){const n=this.listProduct.map(r=>r.producto),e=this.listProduct.map(r=>r.ventas);this.barChartData={labels:n,datasets:[{data:e,label:"Ventas"}]}}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(p.I),t.Y36(C.ux),t.Y36(p.I),t.Y36(v.yh))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-inicio"]],viewQuery:function(n,e){if(1&n&&(t.Gf(h.NW,5),t.Gf(m.YE,5)),2&n){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},decls:17,vars:11,consts:[[1,"card"],[1,"example-spacer"],["routerLink","/dashboard/crearusuario","mat-raised-button","","color","primary",1,"agregar"],[1,"canvas-container"],["baseChart","",3,"data","options","plugins","legend","type"],["matInput","",3,"keyup"],["input",""],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["class","table-container mat-elevation-z8",4,"ngIf"],["style","color:white;",4,"ngIf"],[1,"table-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","fecha"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","stock"],["matColumnDef","ventas"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","producto"],["matColumnDef","Action"],["mat-cell","","style","text-align:right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",2,"text-align","right"],["routerLink","/dashboard/chart"],["aria-hidden","false","aria-label","Example home icon","fontIcon","analytics","matTooltip","charts",2,"color","black"],[2,"color","red"],["aria-hidden","false","aria-label","Example home icon","fontIcon","delete","matTooltip","Delete",3,"click"],["href","#"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit","matTooltip","Edit"],["mat-header-row",""],["mat-row",""],[2,"color","white"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-toolbar")(2,"span"),t._uU(3,"Usuarios"),t.qZA(),t._UZ(4,"span",1),t.TgZ(5,"button",2),t._uU(6,"Agregar"),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"canvas",4),t.qZA(),t.TgZ(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Filter"),t.qZA(),t.TgZ(12,"input",5,6),t.NdJ("keyup",function(l){return e.applyFilter(l)}),t.qZA()(),t._UZ(14,"mat-paginator",7),t.YNc(15,B,19,3,"div",8),t.YNc(16,J,2,0,"h2",9),t.qZA()),2&n&&(t.xp6(8),t.Q6J("data",e.barChartData)("options",e.barChartOptions)("plugins",e.barChartPlugins)("legend",e.barChartLegend)("type","bar"),t.xp6(6),t.Q6J("length",e.dataSource.data.length)("pageSize",5)("pageSizeOptions",t.DdM(10,R)),t.xp6(1),t.Q6J("ngIf",e.listProduct.length>0),t.xp6(1),t.Q6J("ngIf",0===e.listProduct.length))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,s.O5,f.KE,f.hX,Z.lW,I.Nt,x.Ye,T.Hw,y.a8,h.NW,m.YE,m.nU,_.gM,b.jh,d.rH],styles:[".mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.canvas-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:auto}canvas[_ngcontent-%COMP%]{width:100%;height:auto}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow-x:auto}.mat-paginator[_ngcontent-%COMP%]{align-self:flex-end}table[_ngcontent-%COMP%]{width:100%}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]{white-space:nowrap}"]}),a})()}];let H=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.ez,d.Bz.forChild(E),d.Bz]}),a})(),k=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.ez,H]}),a})()}}]);